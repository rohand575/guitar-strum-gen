# ==================================================
# Guitar Strum Generator - Default Configuration
# ==================================================
# This file contains all hyperparameters and settings
# Modify for different experiments

# -----------------------
# Data Settings
# -----------------------
data:
  train_path: "data/processed/train.jsonl"
  val_path: "data/processed/val.jsonl"
  test_path: "data/processed/test.jsonl"
  max_seq_length: 64  # Maximum tokens per sequence

# -----------------------
# Model Architecture
# -----------------------
model:
  type: "transformer"  # Options: transformer, lstm
  vocab_size: 100      # Number of unique tokens
  embed_dim: 256       # Embedding dimension
  num_heads: 8         # Attention heads (transformer only)
  num_layers: 4        # Number of encoder/decoder layers
  dropout: 0.1         # Dropout rate
  
# -----------------------
# Prompt Parser
# -----------------------
prompt_parser:
  model_name: "distilbert-base-uncased"
  use_rules: true      # Use rule-based extraction as backup
  
# -----------------------
# Training
# -----------------------
training:
  batch_size: 16
  learning_rate: 0.0005  # 5e-4
  epochs: 60
  early_stopping_patience: 10
  optimizer: "adam"
  weight_decay: 0.01
  warmup_steps: 100
  gradient_clip: 1.0
  
# -----------------------
# Rule-Based System
# -----------------------
rules:
  fallback_enabled: true  # Use rules when neural output is invalid
  strict_key_validation: true  # Enforce all chords in key
  
# -----------------------
# Generation
# -----------------------
generation:
  max_chords: 8          # Maximum chords per progression
  default_tempo: 100     # BPM if not specified
  temperature: 0.8       # Sampling temperature (lower = more conservative)
  top_k: 10              # Top-k sampling

# -----------------------
# Evaluation
# -----------------------
evaluation:
  compute_diversity: true
  compute_chord_correctness: true
  compute_rhythmic_consistency: true
  
# -----------------------
# Paths
# -----------------------
paths:
  checkpoint_dir: "checkpoints"
  output_dir: "outputs"
  log_dir: "logs"
